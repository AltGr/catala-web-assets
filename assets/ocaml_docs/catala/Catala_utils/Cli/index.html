<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cli (catala.Catala_utils.Cli)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">catala</a> &#x00BB; <a href="../index.html">Catala_utils</a> &#x00BB; Cli</nav><header class="odoc-preamble"><h1>Module <code><span>Catala_utils.Cli</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#configuration-globals">Configuration globals</a></li><li><a href="#cli-flags-and-options">CLI flags and options</a></li><li><a href="#command-line-application">Command-line application</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-backend_lang" class="anchored"><a href="#type-backend_lang" class="anchor"></a><code><span><span class="keyword">type</span> backend_lang</span><span> = </span></code><table><tr id="type-backend_lang.En" class="anchored"><td class="def variant constructor"><a href="#type-backend_lang.En" class="anchor"></a><code><span>| </span><span><span class="constructor">En</span></span></code></td></tr><tr id="type-backend_lang.Fr" class="anchored"><td class="def variant constructor"><a href="#type-backend_lang.Fr" class="anchor"></a><code><span>| </span><span><span class="constructor">Fr</span></span></code></td></tr><tr id="type-backend_lang.Pl" class="anchored"><td class="def variant constructor"><a href="#type-backend_lang.Pl" class="anchor"></a><code><span>| </span><span><span class="constructor">Pl</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-when_enum" class="anchored"><a href="#type-when_enum" class="anchor"></a><code><span><span class="keyword">type</span> when_enum</span><span> = </span></code><table><tr id="type-when_enum.Auto" class="anchored"><td class="def variant constructor"><a href="#type-when_enum.Auto" class="anchor"></a><code><span>| </span><span><span class="constructor">Auto</span></span></code></td></tr><tr id="type-when_enum.Always" class="anchored"><td class="def variant constructor"><a href="#type-when_enum.Always" class="anchor"></a><code><span>| </span><span><span class="constructor">Always</span></span></code></td></tr><tr id="type-when_enum.Never" class="anchored"><td class="def variant constructor"><a href="#type-when_enum.Never" class="anchor"></a><code><span>| </span><span><span class="constructor">Never</span></span></code></td></tr></table></div><div class="spec-doc"><p>The usual auto/always/never option argument</p></div></div><div class="odoc-spec"><div class="spec type" id="type-message_format_enum" class="anchored"><a href="#type-message_format_enum" class="anchor"></a><code><span><span class="keyword">type</span> message_format_enum</span><span> = </span></code><table><tr id="type-message_format_enum.Human" class="anchored"><td class="def variant constructor"><a href="#type-message_format_enum.Human" class="anchor"></a><code><span>| </span><span><span class="constructor">Human</span></span></code></td></tr><tr id="type-message_format_enum.GNU" class="anchored"><td class="def variant constructor"><a href="#type-message_format_enum.GNU" class="anchor"></a><code><span>| </span><span><span class="constructor">GNU</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Format of error and warning messages output by the compiler.</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-input_file" class="anchored"><a href="#type-input_file" class="anchor"></a><code><span><span class="keyword">type</span> input_file</span><span> = </span></code><table><tr id="type-input_file.FileName" class="anchored"><td class="def variant constructor"><a href="#type-input_file.FileName" class="anchor"></a><code><span>| </span><span><span class="constructor">FileName</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-input_file.Contents" class="anchored"><td class="def variant constructor"><a href="#type-input_file.Contents" class="anchor"></a><code><span>| </span><span><span class="constructor">Contents</span> <span class="keyword">of</span> string</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-languages" class="anchored"><a href="#val-languages" class="anchor"></a><code><span><span class="keyword">val</span> languages : <span><span>(string * <a href="#type-backend_lang">backend_lang</a>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-language_code" class="anchored"><a href="#val-language_code" class="anchor"></a><code><span><span class="keyword">val</span> language_code : <span><a href="#type-backend_lang">backend_lang</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Returns the lowercase two-letter language code</p></div></div><h3 id="configuration-globals"><a href="#configuration-globals" class="anchor"></a>Configuration globals</h3><div class="odoc-spec"><div class="spec type" id="type-options" class="anchored"><a href="#type-options" class="anchor"></a><code><span><span class="keyword">type</span> options</span><span> = <span class="keyword">private</span> </span><span>{</span></code><table><tr id="type-options.input_file" class="anchored"><td class="def record field"><a href="#type-options.input_file" class="anchor"></a><code><span><span class="keyword">mutable</span> input_file : <a href="#type-input_file">input_file</a>;</span></code></td></tr><tr id="type-options.language" class="anchored"><td class="def record field"><a href="#type-options.language" class="anchor"></a><code><span><span class="keyword">mutable</span> language : <span><a href="#type-backend_lang">backend_lang</a> option</span>;</span></code></td></tr><tr id="type-options.debug" class="anchored"><td class="def record field"><a href="#type-options.debug" class="anchor"></a><code><span><span class="keyword">mutable</span> debug : bool;</span></code></td></tr><tr id="type-options.color" class="anchored"><td class="def record field"><a href="#type-options.color" class="anchor"></a><code><span><span class="keyword">mutable</span> color : <a href="#type-when_enum">when_enum</a>;</span></code></td></tr><tr id="type-options.message_format" class="anchored"><td class="def record field"><a href="#type-options.message_format" class="anchor"></a><code><span><span class="keyword">mutable</span> message_format : <a href="#type-message_format_enum">message_format_enum</a>;</span></code></td></tr><tr id="type-options.trace" class="anchored"><td class="def record field"><a href="#type-options.trace" class="anchor"></a><code><span><span class="keyword">mutable</span> trace : bool;</span></code></td></tr><tr id="type-options.plugins_dirs" class="anchored"><td class="def record field"><a href="#type-options.plugins_dirs" class="anchor"></a><code><span><span class="keyword">mutable</span> plugins_dirs : <span>string list</span>;</span></code></td></tr><tr id="type-options.disable_warnings" class="anchored"><td class="def record field"><a href="#type-options.disable_warnings" class="anchor"></a><code><span><span class="keyword">mutable</span> disable_warnings : bool;</span></code></td></tr><tr id="type-options.max_prec_digits" class="anchored"><td class="def record field"><a href="#type-options.max_prec_digits" class="anchor"></a><code><span><span class="keyword">mutable</span> max_prec_digits : int;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Global options, common to all subcommands (note: the fields are internally mutable only for purposes of the <code>globals</code> toplevel value defined below)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-globals" class="anchored"><a href="#val-globals" class="anchor"></a><code><span><span class="keyword">val</span> globals : <a href="#type-options">options</a></span></code></div><div class="spec-doc"><p>A global definition to the global options is provided for convenience, e.g. choosing the proper output in formatting functions. Prefer the use of the options returned by the command-line parsing whenever possible.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-enforce_globals" class="anchored"><a href="#val-enforce_globals" class="anchor"></a><code><span><span class="keyword">val</span> enforce_globals : 
  <span>?input_file:<a href="#type-input_file">input_file</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?language:<span><a href="#type-backend_lang">backend_lang</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?debug:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?color:<a href="#type-when_enum">when_enum</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?message_format:<a href="#type-message_format_enum">message_format_enum</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?trace:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?plugins_dirs:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?disable_warnings:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?max_prec_digits:int <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-options">options</a></span></code></div><div class="spec-doc"><p>Sets up the global options (side-effect); for specific use-cases only, this should never be called from the compiler or when going through normal command-line parsing. Proper uses include setting up the compiler library when using it directly through a specific front-end.</p></div></div><h3 id="cli-flags-and-options"><a href="#cli-flags-and-options" class="anchor"></a>CLI flags and options</h3><div class="odoc-spec"><div class="spec module" id="module-Flags" class="anchored"><a href="#module-Flags" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Flags/index.html">Flags</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h3 id="command-line-application"><a href="#command-line-application" class="anchor"></a>Command-line application</h3><div class="odoc-spec"><div class="spec value" id="val-version" class="anchored"><a href="#val-version" class="anchor"></a><code><span><span class="keyword">val</span> version : string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-info" class="anchored"><a href="#val-info" class="anchor"></a><code><span><span class="keyword">val</span> info : <span class="xref-unresolved">Cmdliner</span>.Cmd.info</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-s_plugins" class="anchored"><a href="#val-s_plugins" class="anchor"></a><code><span><span class="keyword">val</span> s_plugins : string</span></code></div><div class="spec-doc"><p>Manpage section name for the installed plugins</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Exit_with" class="anchored"><a href="#exception-Exit_with" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Exit_with</span> <span class="keyword">of</span> int</span></code></div><div class="spec-doc"><p>Exit with a specific exit code (but less brutally than <code>Sys.exit</code> which would bypass all finalisers)</p></div></div></div></body></html>