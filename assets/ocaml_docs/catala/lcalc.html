<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>lcalc (catala.lcalc)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="index.html">Up</a> – <a href="index.html">catala</a> &#x00BB; lcalc</nav><header class="odoc-preamble"><h1 id="lambda-calculus"><a href="#lambda-calculus" class="anchor"></a>Lambda calculus</h1><p>This representation is the fifth in the compilation chain (see <a href="index.html#architecture">Architecture</a>). Its main difference with the previous <a href="dcalc.html">default calculus</a> is the absence of the default term, which has been eliminated through diverse compilation schemes.</p><p>The module describing the abstract syntax tree is:</p><ul class="modules"><li><a href="Lcalc/Ast/index.html"><code>Lcalc.Ast</code></a> <span class="synopsis">Abstract syntax tree for the lambda calculus</span></li></ul><p>This intermediate representation corresponds to the lambda calculus presented in the <a href="https://arxiv.org/abs/2103.03198">Catala formalization</a>.</p></header><nav class="odoc-toc"><ul><li><a href="#compilation-from-default-calculus">Compilation from default calculus</a></li><li><a href="#closure-conversion">Closure conversion</a></li><li><a href="#backends">Backends</a></li></ul></nav><div class="odoc-content"><h2 id="compilation-from-default-calculus"><a href="#compilation-from-default-calculus" class="anchor"></a>Compilation from default calculus</h2><p><a href="Lcalc/Compile_with_exceptions/index.html"><code>Lcalc.Compile_with_exceptions</code></a> compiles the default term of the default calculus using catchable exceptions. This compilation scheme has been certified. Another compilation scheme that uses an option monad instead is available at <a href="Lcalc/Compile_without_exceptions/index.html"><code>Lcalc.Compile_without_exceptions</code></a>.</p><p>Related modules:</p><ul class="modules"><li><a href="Lcalc/Compile_with_exceptions/index.html"><code>Lcalc.Compile_with_exceptions</code></a> <span class="synopsis">Translation from the default calculus to the lambda calculus. This translation uses exceptions to handle empty default terms.</span></li><li><a href="Lcalc/Compile_without_exceptions/index.html"><code>Lcalc.Compile_without_exceptions</code></a> <span class="synopsis">Translation from the default calculus to the lambda calculus. This translation uses an option monad to handle empty defaults terms. This transformation is one piece to permit to compile toward legacy languages that does not contains exceptions.</span></li></ul><h2 id="closure-conversion"><a href="#closure-conversion" class="anchor"></a>Closure conversion</h2><p>To target languages that don't have support for closures, we need to convert the closures to first-class functions in function-pointer-passing style computations.</p><ul class="modules"><li><a href="Lcalc/Closure_conversion/index.html"><code>Lcalc.Closure_conversion</code></a> <span class="synopsis">This module performs environment-passing style closure conversion, relying on the existential <code>TClosureEnv</code> type and tuples for closure environments. The implementation is based on François Pottier's <a href="http://gallium.inria.fr/~fpottier/mpri/cours04.pdf#page=10">MPRI lesson</a>. After closure conversion, closure hoisting is perform and all closures end up as toplevel definitions.</span></li></ul><h2 id="backends"><a href="#backends" class="anchor"></a>Backends</h2><p>The OCaml backend of the lambda calculus is merely a syntactic formatting, since the core of the OCaml value language is effectively a lambda calculus.</p><p>Related modules:</p><ul class="modules"><li><a href="Lcalc/To_ocaml/index.html"><code>Lcalc.To_ocaml</code></a> <span class="synopsis">Formats a lambda calculus program into a valid OCaml program</span></li></ul></div></body></html>